{% extends "index.html" %}
{% block contenido %}

<div class="container py-4" style="max-width: 820px;">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <div>
      <h2 class="m-0">{{ titulo }}</h2>
      <div class="text-muted">
        {% if autor %}
          Actualiza la información del autor seleccionado.
        {% else %}
          Registra un nuevo autor en el sistema.
        {% endif %}
      </div>
    </div>

    <a class="btn btn-outline-secondary" href="{% url 'lista_autores' %}">
      <i class="bi bi-arrow-left"></i> Volver
    </a>
  </div>

  <form method="post" class="card shadow-sm p-3">
    {% csrf_token %}

    <div class="mb-3">
      <label class="form-label" for="id_nombre">Nombre</label>
      <input
        class="form-control"
        type="text"
        id="id_nombre"
        name="nombre"
        value="{{ autor.nombre|default_if_none:'' }}"
        required
      >
    </div>

    <div class="mb-3">
      <label class="form-label" for="id_apellido">Apellido</label>
      <input
        class="form-control"
        type="text"
        id="id_apellido"
        name="apellido"
        value="{{ autor.apellido|default_if_none:'' }}"
        required
      >
    </div>

    <div class="mb-3">
      <label class="form-label" for="id_bibliografia">Bibliografía</label>
      <textarea
        class="form-control"
        id="id_bibliografia"
        name="bibliografia"
        rows="4"
      >{{ autor.bibliografia|default_if_none:"" }}</textarea>
      <div class="form-text">Este campo es opcional.</div>
    </div>

    <div class="d-flex gap-2">
      <button class="btn btn-primary" type="submit">
        <i class="bi bi-check2-circle"></i> {{ texto_boton }}
      </button>

      <a class="btn btn-outline-secondary" href="{% url 'lista_autores' %}">
        Cancelar
      </a>

      {% if autor %}
        <span class="ms-auto text-muted small align-self-center">
          Editando ID: {{ autor.id }}
        </span>
      {% endif %}
    </div>
  </form>
</div>

{% endblock %}
